[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "bun run start"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Watch patterns - only trigger rebuild when API files change
[build.watchPaths]
paths = [
  "apps/api/**",
  "packages/db/**",
  "packages/shared/**",
  "packages/astrology/**"
]
